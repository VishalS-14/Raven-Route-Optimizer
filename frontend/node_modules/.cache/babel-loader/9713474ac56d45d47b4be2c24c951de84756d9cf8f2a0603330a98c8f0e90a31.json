{"ast":null,"code":"var _jsxFileName = \"F:\\\\AMRITA\\\\PROJECTS\\\\Raven-AI-Route-Optimizer\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport L from \"leaflet\";\nimport \"leaflet-routing-machine\";\nimport \"./styles.css\";\n\n// Disable routing instruction panel globally\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nL.Routing.Control.prototype.options.show = false;\nfunction App() {\n  _s();\n  const mapRef = useRef(null);\n  const markerRef = useRef(null);\n  const routeControlRef = useRef(null);\n  const [routeData, setRouteData] = useState({\n    status: \"idle\",\n    final_route: [],\n    alternative_routes: []\n  });\n  const [error, setError] = useState(null);\n  const [source, setSource] = useState(\"Kuragallu\");\n  const [destination, setDestination] = useState(\"Mangalagiri\");\n  const [currentNodeIndex, setCurrentNodeIndex] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [notification, setNotification] = useState(null);\n  const [preferences, setPreferences] = useState({\n    traffic: 50,\n    weather: 50,\n    elevation: 50,\n    air_quality: 50\n  });\n  const CONFIG = {\n    API_BASE_URL: \"http://localhost:5000\",\n    POLLING_INTERVAL: 500,\n    PROXIMITY_THRESHOLD: 0.01\n  };\n\n  /* ------------------ UTIL ------------------ */\n\n  const getCoordinates = location => {\n    const [lat, lng] = location.split(\",\").map(Number);\n    return L.latLng(lat, lng);\n  };\n\n  /* ------------------ RESET ------------------ */\n\n  const resetApp = () => {\n    if (mapRef.current) {\n      mapRef.current.remove();\n      mapRef.current = null;\n    }\n    markerRef.current = null;\n    routeControlRef.current = null;\n    setRouteData({\n      status: \"idle\",\n      final_route: [],\n      alternative_routes: []\n    });\n    setError(null);\n    setCurrentNodeIndex(0);\n    setIsAnimating(false);\n    setNotification(null);\n  };\n  useEffect(() => {\n    axios.get(`${CONFIG.API_BASE_URL}/reset`);\n    return () => resetApp();\n  }, []);\n\n  /* ------------------ MAP INIT ------------------ */\n\n  const initializeMap = coords => {\n    mapRef.current = L.map(\"map\").setView(coords, 13);\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n      attribution: \"¬© OpenStreetMap contributors\",\n      maxZoom: 19\n    }).addTo(mapRef.current);\n    markerRef.current = L.circleMarker(coords, {\n      radius: 10,\n      color: \"#6a00ff\",\n      fillColor: \"#6a00ff\",\n      fillOpacity: 0.8\n    }).addTo(mapRef.current);\n    setTimeout(() => mapRef.current.invalidateSize(), 300);\n  };\n\n  /* ------------------ START OPTIMIZATION ------------------ */\n\n  const startOptimization = async () => {\n    try {\n      await axios.post(`${CONFIG.API_BASE_URL}/optimize`, {\n        source,\n        destination,\n        preferences\n      });\n    } catch (err) {\n      setError(\"Failed to start routing\");\n    }\n  };\n\n  /* ------------------ POLLING ------------------ */\n\n  useEffect(() => {\n    const pollStatus = async () => {\n      try {\n        const res = await axios.get(`${CONFIG.API_BASE_URL}/status`);\n        setRouteData(res.data);\n\n        // Initialize map when first route point arrives\n        if (res.data.final_route.length > 0 && !mapRef.current) {\n          initializeMap(getCoordinates(res.data.final_route[0]));\n        }\n\n        // Animate step-by-step\n        if (res.data.status === \"running\" && res.data.final_route.length > currentNodeIndex + 1 && !isAnimating) {\n          setIsAnimating(true);\n          await updateRoute(res.data.final_route[currentNodeIndex], res.data.final_route[currentNodeIndex + 1]);\n          setCurrentNodeIndex(prev => prev + 1);\n          setIsAnimating(false);\n        }\n      } catch (err) {\n        setError(\"Polling failed\");\n      }\n    };\n    const interval = setInterval(pollStatus, CONFIG.POLLING_INTERVAL);\n    return () => clearInterval(interval);\n  }, [currentNodeIndex, isAnimating]);\n\n  /* ------------------ ROUTE DRAW ------------------ */\n\n  const updateRoute = async (startNode, nextNode) => {\n    const startLatLng = getCoordinates(startNode);\n    const nextLatLng = getCoordinates(nextNode);\n    if (routeControlRef.current) {\n      mapRef.current.removeControl(routeControlRef.current);\n    }\n    routeControlRef.current = L.Routing.control({\n      waypoints: [startLatLng, nextLatLng],\n      addWaypoints: false,\n      routeWhileDragging: false,\n      show: false,\n      lineOptions: {\n        styles: [{\n          color: \"#00ff00\",\n          weight: 4\n        }]\n      }\n    }).addTo(mapRef.current);\n    return new Promise(resolve => {\n      routeControlRef.current.on(\"routesfound\", e => {\n        animateMarker(e.routes[0].coordinates, nextLatLng).then(resolve);\n      });\n    });\n  };\n\n  /* ------------------ MARKER ANIMATION ------------------ */\n\n  const animateMarker = (coords, target) => new Promise(resolve => {\n    let i = 0;\n    setNotification(\"Optimizing route‚Ä¶\");\n    const move = () => {\n      if (i >= coords.length) return resolve();\n      const pos = [coords[i].lat, coords[i].lng];\n      markerRef.current.setLatLng(pos);\n      mapRef.current.panTo(pos);\n      if (L.latLng(pos).distanceTo(target) / 1000 < CONFIG.PROXIMITY_THRESHOLD) {\n        axios.post(`${CONFIG.API_BASE_URL}/marker-close`, {\n          node: target.toString()\n        });\n        setNotification(null);\n        resolve();\n      } else {\n        i++;\n        setTimeout(move, 60);\n      }\n    };\n    move();\n  });\n\n  /* ------------------ FORM ------------------ */\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    resetApp();\n    startOptimization();\n  };\n  const handlePreferenceChange = (e, key) => {\n    setPreferences(p => ({\n      ...p,\n      [key]: Number(e.target.value)\n    }));\n  };\n\n  /* ------------------ UI ------------------ */\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"aven\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Start Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: source,\n          onChange: e => setSource(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: destination,\n          onChange: e => setDestination(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), Object.keys(preferences).map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: key.replace(\"_\", \" \")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: \"100\",\n            value: preferences[key],\n            onChange: e => handlePreferenceChange(e, key)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Start Routing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      children: [routeData.status === \"idle\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-placeholder\",\n        children: \"\\uD83D\\uDDFA\\uFE0F Enter locations and start routing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-notification\",\n        children: notification\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qV8C0Ew4yX+n+X5iNd2oQsgQgy8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","axios","L","jsxDEV","_jsxDEV","Routing","Control","prototype","options","show","App","_s","mapRef","markerRef","routeControlRef","routeData","setRouteData","status","final_route","alternative_routes","error","setError","source","setSource","destination","setDestination","currentNodeIndex","setCurrentNodeIndex","isAnimating","setIsAnimating","notification","setNotification","preferences","setPreferences","traffic","weather","elevation","air_quality","CONFIG","API_BASE_URL","POLLING_INTERVAL","PROXIMITY_THRESHOLD","getCoordinates","location","lat","lng","split","map","Number","latLng","resetApp","current","remove","get","initializeMap","coords","setView","tileLayer","attribution","maxZoom","addTo","circleMarker","radius","color","fillColor","fillOpacity","setTimeout","invalidateSize","startOptimization","post","err","pollStatus","res","data","length","updateRoute","prev","interval","setInterval","clearInterval","startNode","nextNode","startLatLng","nextLatLng","removeControl","control","waypoints","addWaypoints","routeWhileDragging","lineOptions","styles","weight","Promise","resolve","on","e","animateMarker","routes","coordinates","then","target","i","move","pos","setLatLng","panTo","distanceTo","node","toString","handleSubmit","preventDefault","handlePreferenceChange","key","p","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","Object","keys","replace","type","min","max","id","_c","$RefreshReg$"],"sources":["F:/AMRITA/PROJECTS/Raven-AI-Route-Optimizer/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet-routing-machine\";\r\nimport \"./styles.css\";\r\n\r\n// Disable routing instruction panel globally\r\nL.Routing.Control.prototype.options.show = false;\r\n\r\nfunction App() {\r\n  const mapRef = useRef(null);\r\n  const markerRef = useRef(null);\r\n  const routeControlRef = useRef(null);\r\n\r\n  const [routeData, setRouteData] = useState({\r\n    status: \"idle\",\r\n    final_route: [],\r\n    alternative_routes: [],\r\n  });\r\n\r\n  const [error, setError] = useState(null);\r\n  const [source, setSource] = useState(\"Kuragallu\");\r\n  const [destination, setDestination] = useState(\"Mangalagiri\");\r\n  const [currentNodeIndex, setCurrentNodeIndex] = useState(0);\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  const [preferences, setPreferences] = useState({\r\n    traffic: 50,\r\n    weather: 50,\r\n    elevation: 50,\r\n    air_quality: 50,\r\n  });\r\n\r\n  const CONFIG = {\r\n    API_BASE_URL: \"http://localhost:5000\",\r\n    POLLING_INTERVAL: 500,\r\n    PROXIMITY_THRESHOLD: 0.01,\r\n  };\r\n\r\n  /* ------------------ UTIL ------------------ */\r\n\r\n  const getCoordinates = (location) => {\r\n    const [lat, lng] = location.split(\",\").map(Number);\r\n    return L.latLng(lat, lng);\r\n  };\r\n\r\n  /* ------------------ RESET ------------------ */\r\n\r\n  const resetApp = () => {\r\n    if (mapRef.current) {\r\n      mapRef.current.remove();\r\n      mapRef.current = null;\r\n    }\r\n    markerRef.current = null;\r\n    routeControlRef.current = null;\r\n\r\n    setRouteData({ status: \"idle\", final_route: [], alternative_routes: [] });\r\n    setError(null);\r\n    setCurrentNodeIndex(0);\r\n    setIsAnimating(false);\r\n    setNotification(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get(`${CONFIG.API_BASE_URL}/reset`);\r\n    return () => resetApp();\r\n  }, []);\r\n\r\n  /* ------------------ MAP INIT ------------------ */\r\n\r\n  const initializeMap = (coords) => {\r\n    mapRef.current = L.map(\"map\").setView(coords, 13);\r\n\r\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\r\n      attribution: \"¬© OpenStreetMap contributors\",\r\n      maxZoom: 19,\r\n    }).addTo(mapRef.current);\r\n\r\n    markerRef.current = L.circleMarker(coords, {\r\n      radius: 10,\r\n      color: \"#6a00ff\",\r\n      fillColor: \"#6a00ff\",\r\n      fillOpacity: 0.8,\r\n    }).addTo(mapRef.current);\r\n\r\n    setTimeout(() => mapRef.current.invalidateSize(), 300);\r\n  };\r\n\r\n  /* ------------------ START OPTIMIZATION ------------------ */\r\n\r\n  const startOptimization = async () => {\r\n    try {\r\n      await axios.post(`${CONFIG.API_BASE_URL}/optimize`, {\r\n        source,\r\n        destination,\r\n        preferences,\r\n      });\r\n    } catch (err) {\r\n      setError(\"Failed to start routing\");\r\n    }\r\n  };\r\n\r\n  /* ------------------ POLLING ------------------ */\r\n\r\n  useEffect(() => {\r\n    const pollStatus = async () => {\r\n      try {\r\n        const res = await axios.get(`${CONFIG.API_BASE_URL}/status`);\r\n        setRouteData(res.data);\r\n\r\n        // Initialize map when first route point arrives\r\n        if (res.data.final_route.length > 0 && !mapRef.current) {\r\n          initializeMap(getCoordinates(res.data.final_route[0]));\r\n        }\r\n\r\n        // Animate step-by-step\r\n        if (\r\n          res.data.status === \"running\" &&\r\n          res.data.final_route.length > currentNodeIndex + 1 &&\r\n          !isAnimating\r\n        ) {\r\n          setIsAnimating(true);\r\n          await updateRoute(\r\n            res.data.final_route[currentNodeIndex],\r\n            res.data.final_route[currentNodeIndex + 1]\r\n          );\r\n          setCurrentNodeIndex((prev) => prev + 1);\r\n          setIsAnimating(false);\r\n        }\r\n      } catch (err) {\r\n        setError(\"Polling failed\");\r\n      }\r\n    };\r\n\r\n    const interval = setInterval(pollStatus, CONFIG.POLLING_INTERVAL);\r\n    return () => clearInterval(interval);\r\n  }, [currentNodeIndex, isAnimating]);\r\n\r\n  /* ------------------ ROUTE DRAW ------------------ */\r\n\r\n  const updateRoute = async (startNode, nextNode) => {\r\n    const startLatLng = getCoordinates(startNode);\r\n    const nextLatLng = getCoordinates(nextNode);\r\n\r\n    if (routeControlRef.current) {\r\n      mapRef.current.removeControl(routeControlRef.current);\r\n    }\r\n\r\n    routeControlRef.current = L.Routing.control({\r\n      waypoints: [startLatLng, nextLatLng],\r\n      addWaypoints: false,\r\n      routeWhileDragging: false,\r\n      show: false,\r\n      lineOptions: {\r\n        styles: [{ color: \"#00ff00\", weight: 4 }],\r\n      },\r\n    }).addTo(mapRef.current);\r\n\r\n    return new Promise((resolve) => {\r\n      routeControlRef.current.on(\"routesfound\", (e) => {\r\n        animateMarker(e.routes[0].coordinates, nextLatLng).then(resolve);\r\n      });\r\n    });\r\n  };\r\n\r\n  /* ------------------ MARKER ANIMATION ------------------ */\r\n\r\n  const animateMarker = (coords, target) =>\r\n    new Promise((resolve) => {\r\n      let i = 0;\r\n      setNotification(\"Optimizing route‚Ä¶\");\r\n\r\n      const move = () => {\r\n        if (i >= coords.length) return resolve();\r\n        const pos = [coords[i].lat, coords[i].lng];\r\n        markerRef.current.setLatLng(pos);\r\n        mapRef.current.panTo(pos);\r\n\r\n        if (L.latLng(pos).distanceTo(target) / 1000 < CONFIG.PROXIMITY_THRESHOLD) {\r\n          axios.post(`${CONFIG.API_BASE_URL}/marker-close`, { node: target.toString() });\r\n          setNotification(null);\r\n          resolve();\r\n        } else {\r\n          i++;\r\n          setTimeout(move, 60);\r\n        }\r\n      };\r\n      move();\r\n    });\r\n\r\n  /* ------------------ FORM ------------------ */\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    resetApp();\r\n    startOptimization();\r\n  };\r\n\r\n  const handlePreferenceChange = (e, key) => {\r\n    setPreferences((p) => ({ ...p, [key]: Number(e.target.value) }));\r\n  };\r\n\r\n  /* ------------------ UI ------------------ */\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <div className=\"sidebar\">\r\n        <h1>aven</h1>\r\n        <form onSubmit={handleSubmit}>\r\n          <label>Start Location</label>\r\n          <input value={source} onChange={(e) => setSource(e.target.value)} />\r\n\r\n          <label>Destination</label>\r\n          <input value={destination} onChange={(e) => setDestination(e.target.value)} />\r\n\r\n          {Object.keys(preferences).map((key) => (\r\n            <div key={key}>\r\n              <label>{key.replace(\"_\", \" \")}</label>\r\n              <input\r\n                type=\"range\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                value={preferences[key]}\r\n                onChange={(e) => handlePreferenceChange(e, key)}\r\n              />\r\n            </div>\r\n          ))}\r\n\r\n          <button type=\"submit\">Start Routing</button>\r\n        </form>\r\n        {error && <div className=\"error\">{error}</div>}\r\n      </div>\r\n\r\n      <div className=\"map-container\">\r\n        {routeData.status === \"idle\" && (\r\n          <div className=\"map-placeholder\">üó∫Ô∏è Enter locations and start routing</div>\r\n        )}\r\n        <div id=\"map\"></div>\r\n        {notification && <div className=\"map-notification\">{notification}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}